!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.watertext=e():t.watertext=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i(t),r={textWidth:["left","right"].includes(e.position)?n.height:n.width},a=Object.assign({},o,r,e);return c(n,a).toDataURL()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;/**
 * Image watermarking with text.
 *
 * @author Kirill Pavlov <k@p99.io>
 * @copyright Copyright (c) 2017, Kirill Pavlov
 * @license MIT
 */
var o={text:"",textWidth:void 0,textSize:12,textFont:"Sans-serif",textColor:"rgb(255, 255, 255)",backgroundColor:"rgba(0, 0, 0, 0.4)",position:"bottom",margin:10},i=function(t){var e=window.document.createElement("img");e.src=t;var n=window.document.createElement("canvas");return n.height=e.height,n.width=e.width,n.getContext("2d").drawImage(e,0,0),n},a=function(t){var e=window.document.createElement("canvas");e.width=t.textWidth,e.height=1.8*t.textSize;var n=e.getContext("2d");return n.fillStyle=t.backgroundColor,n.fillRect(0,0,e.width,e.height),n.fillStyle=t.textColor,n.font="".concat(t.textSize,"px ").concat(t.textFont),n.textAlign="center",n.fillText(t.text,e.width/2,t.textSize+2),e},c=function(t,e){var n=a(e),r=t.getContext("2d"),o=t.width/2,i=t.height/2;r.translate(o,i);var c,u=-n.width/2;switch(e.position){case"left":r.rotate(-Math.PI/2),c=e.margin+(e.margin>=0?-o:o-n.height);break;case"right":r.rotate(Math.PI/2),c=e.margin+(e.margin>=0?-o:o-n.height);break;case"top":c=e.margin+(e.margin>=0?-i:i-n.height);break;case"bottom":c=-e.margin+(e.margin>=0?i-n.height:-i);break;default:throw new Error('Unknown "position" option: "'.concat(e.position,'"'))}return r.drawImage(n,u,c),t}}])});